<canvas id="canvas" width="1150", height="600"></canvas>
Control with space.
<script>

	var background;
	var player;
	var canvas;
	var ctx;

	window.onload = function(){
		//Canvas
		canvas = document.getElementById("canvas");
		ctx=canvas.getContext("2d");
		// Objects
		player = new Player();
		background = new Background();
		// Key listeners
		document.addEventListener("keydown", keydown);
		document.addEventListener("keyup", keyup);
		// Game loop
    	setInterval(game,1000/30);
	}

	function Player(){

		this.inAir = true;
		this.radius = 3;
		this.x = 0;
		this.y = 0;
		this.xSpeed = 0;
		this.ySpeed = 0;
		this.gravity = 1;

		// Draws player to canvas
		this.render = function(){
			ctx.fillStyle = "red";
			ctx.beginPath();
			ctx.arc(40, this.y, this.radius, 0, 2*Math.PI);
			ctx.fill();
		}

		// Updates player position.
		this.update = function(){
			if(this.xSpeed < 1){
				this.xSpeed = 1;
			}

			this.x += this.xSpeed;
			this.y += this.ySpeed;

			this.ySpeed += this.gravity;

			if(this.y >= background.y(this.x)){

				var slope = background.slope(this.x);

				if(this.inAir){
					if(this.xSpeed >= 0){
						if(slope >= 0){
							this.xSpeed -= 3*this.ySpeed * slope/((1+slope*slope)*(1+slope*slope));
						} else{
							this.xSpeed -= this.ySpeed * slope/((1+slope*slope)*(1+slope*slope));
						}
					}
					this.inAir = false;
				}

				this.ySpeed = 9999;
				this.y = background.y(this.x);

				this.xSpeed -= this.gravity * slope/((1+slope*slope)*(1+slope*slope));
				
				if(this.xSpeed > 10 && background.slope(this.x) > 0 && background.slopeslope(this.x) < 0){
					this.ySpeed = 1.3*this.xSpeed*-1;
					this.xSpeed -= 0.1*this.xSpeed;
					this.inAir = true;
				}
			}
		}
	}

	function Background(){

		this.y = function(x){
			return 400+130*Math.sin(0.008*x);
		}

		this.slope = function(x){
			return (-1)*130*0.008*Math.cos(0.008*x);
		}

		this.slopeslope = function(x){
			return 130*0.01*0.008*Math.sin(0.008*x);
		}

		this.render = function(){
			ctx.fillStyle = "green";
			for(i = 0; i < canvas.width; i++){
				ctx.fillRect(i, Math.floor(this.y(i - 40 + player.x)), 1, 999);
			}
		}
	}

	function updateState(){
		player.update();
	}

	function render(){
		ctx.fillStyle = "#8fb4ef";
		ctx.fillRect(0, 0, canvas.width, canvas.height);

		background.render();
		player.render();
	}

	function game(){
		updateState();
		render();
	}

	function keydown(evt){
		switch(evt.keyCode){
			case 37: //left
				player.xSpeed -= 2;
				break;
			case 38: //up
				player.ySpeed -= 10;
				break;
			case 39: //right
				player.xSpeed += 2;
				break;
			case 40: //down
				break;
			case 32: //space
				player.gravity = 3;
				break;
		}
	}

	function keyup(evt){
		switch(evt.keyCode){
			case 32: //space
				player.gravity = 1;
				break;
		}
	}
</script>
